!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.Rapper=t()}}(function(){return function t(n,e,r){function o(s,u){if(!e[s]){if(!n[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=e[s]={exports:{}};n[s][0].call(c.exports,function(t){var e=n[s][1][t];return o(e?e:t)},c,c.exports,t,n,e,r)}return e[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,n){"use strict";function e(t,n){return n instanceof Object&&(n=f.stringify(n)),t.indexOf("?")>-1&&""!==n&&(t+="&"+n),t.indexOf("?")<0&&""!==n&&(t+="?"+n),t}var r=t("httpify"),o=t("promise"),i=t("extend"),s=t("./lib/resource"),u=t("slasher"),f=t("qs"),c=function(t){this.attributes={},this.headers={},this.xhrOptions={},this.resources={},t&&(this.attributes.host=t)};c.prototype._addResource=function(t){this.resources[t.url()]=t},c.prototype.host=function(t){return t?(this.attributes.host=t,this):this.attributes.host},c.prototype._buildUrl=function(t,n){var r="string"==typeof t?t:e(u(t.name),t.params());return n?this.host()+r:r},c.prototype.header=function(t,n){return n?(this.headers[t]=n,this):this.headers[t]},c.prototype.xhrOption=function(t,n){return n?(this.xhrOptions[t]=n,this):this.xhrOptions[t]},c.prototype._http=function(t,n,e){var r=this,o=this.resources[t],s={url:this._buildUrl(t,!0),method:n,type:"json"};return i(s,{headers:this.headers},this.xhrOptions,e),o?this.promise(function(t,n){o.beforeQueue.drain(function(e){return e?n(e):void r._makeHttpRequest(s).then(t,n)})}):this._makeHttpRequest(s)},c.prototype._makeHttpRequest=function(t){return this.promise(function(n,e){r(t,function(t,r){if(t)return e(t);if(""===r.body&&(r.body={}),"string"==typeof r.body)try{r.body=JSON.parse(r.body)}catch(o){}return r.statusCode>=400?e(r):void n(r)})})},c.httpMethods=["GET","POST","PUT","DELETE","PATCH"],c.httpMethods.forEach(function(t){c.prototype[t.toLowerCase()]=function(n,e){return this._http(n,t,e)}}),c.prototype.resource=function(t,n){return s._create(t,n,{api:this})},c.prototype.promise=function(t){return new o(t)},c.prototype.asPromise=function(t){return this.promise(function(n){n(t)})},n.exports=c},{"./lib/resource":2,extend:5,httpify:6,promise:12,qs:20,slasher:21}],2:[function(t,n){"use strict";var e=t("extend"),r=t("slasher"),o=t("path"),i=t("qmap"),s=function(t,n){this._params={},this.xhrOptions={},this.beforeQueue=new i(this),e(this,t,n)};s.prototype.url=function(t){return this.api._buildUrl(this,t)},s.prototype.one=function(t,n){return s._create(t,n,{type:"one",api:this.api,baseUrl:this.url()})},s.prototype.resource=function(t,n){return s._create(t,n,{type:"many",api:this.api,baseUrl:this.url()})},s.prototype.xhrOption=function(t,n){return n?(this.xhrOptions[t]=n,this):this.xhrOptions[t]},s.prototype.before=function(){this.beforeQueue.push(arguments)},s.prototype.alias=function(t,n){return this[n]=this[t],this},s.prototype.param=function(t,n){return n?(this._params[t]=n,this):this._params[t]},s.prototype.params=function(t){return t?(e(this._params,t),this):this._params},s.many={get:function(){return this.api.get(this.url(),this.xhrOptions)},post:function(t){return this.api.post(this.url(),e(this.xhrOptions,{form:t}))},list:function(){return this.get()},create:function(t){return this.post(t)}},s.one={get:s.many.get,put:function(t){return this.api.put(this.url(),e(this.xhrOptions,{form:t}))},del:function(){return this.api.delete(this.url(),this.xhrOptions)},update:function(t){return this.put(t)},remove:function(){return this.del()}},s._create=function(t,n,i){var u={},f=o.join(i.baseUrl||"/",r(t)),c=i.api;if(e(u,s[i.type||"many"],n),c.resources[f])return c.resources[f];var a=new s({name:f,api:c},u);return c.resources[a.url()]=a,a},n.exports=s},{extend:5,path:4,qmap:14,slasher:21}],3:[function(t,n){var e=n.exports={};e.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(n){var e=[];return window.addEventListener("message",function(t){var n=t.source;if((n===window||null===n)&&"process-tick"===t.data&&(t.stopPropagation(),e.length>0)){var r=e.shift();r()}},!0),function(t){e.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.binding=function(){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(){throw new Error("process.chdir is not supported")}},{}],4:[function(t,n,e){(function(t){function n(t,n){for(var e=0,r=t.length-1;r>=0;r--){var o=t[r];"."===o?t.splice(r,1):".."===o?(t.splice(r,1),e++):e&&(t.splice(r,1),e--)}if(n)for(;e--;e)t.unshift("..");return t}function r(t,n){if(t.filter)return t.filter(n);for(var e=[],r=0;r<t.length;r++)n(t[r],r,t)&&e.push(t[r]);return e}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(t){return o.exec(t).slice(1)};e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s=i>=0?arguments[i]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,o="/"===s.charAt(0))}return e=n(r(e.split("/"),function(t){return!!t}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(t){var o=e.isAbsolute(t),i="/"===s(t,-1);return t=n(r(t.split("/"),function(t){return!!t}),!o).join("/"),t||o||(t="."),t&&i&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,function(t){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function r(t){for(var n=0;n<t.length&&""===t[n];n++);for(var e=t.length-1;e>=0&&""===t[e];e--);return n>e?[]:t.slice(n,e-n+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var o=r(t.split("/")),i=r(n.split("/")),s=Math.min(o.length,i.length),u=s,f=0;s>f;f++)if(o[f]!==i[f]){u=f;break}for(var c=[],f=u;f<o.length;f++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var n=i(t),e=n[0],r=n[1];return e||r?(r&&(r=r.substr(0,r.length-1)),e+r):"."},e.basename=function(t,n){var e=i(t)[2];return n&&e.substr(-1*n.length)===n&&(e=e.substr(0,e.length-n.length)),e},e.extname=function(t){return i(t)[3]};var s="b"==="ab".substr(-1)?function(t,n,e){return t.substr(n,e)}:function(t,n,e){return 0>n&&(n=t.length+n),t.substr(n,e)}}).call(this,t("/Users/scott/www/modules/rapper/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/scott/www/modules/rapper/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3}],5:[function(t,n){function e(t){if(!t||"[object Object]"!==o.call(t)||t.nodeType||t.setInterval)return!1;var n=r.call(t,"constructor"),e=r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!e)return!1;var i;for(i in t);return void 0===i||r.call(t,i)}var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString;n.exports=function i(){var t,n,r,o,s,u,f=arguments[0]||{},c=1,a=arguments.length,p=!1;for("boolean"==typeof f&&(p=f,f=arguments[1]||{},c=2),"object"!=typeof f&&"function"!=typeof f&&(f={});a>c;c++)if(null!=(t=arguments[c]))for(n in t)r=f[n],o=t[n],f!==o&&(p&&o&&(e(o)||(s=Array.isArray(o)))?(s?(s=!1,u=r&&Array.isArray(r)?r:[]):u=r&&e(r)?r:{},f[n]=i(p,u,o)):void 0!==o&&(f[n]=o));return f}},{}],6:[function(t,n){n.exports=t("request")},{request:7}],7:[function(t,n){var e=t("xhr");n.exports=function(t,n){return n=n||function(){},t.data&&!window&&(t.form=t.data),t.form&&window&&(t.body="object"==typeof t.form?JSON.stringify(t.form):t.form),t.data&&(t.body="object"==typeof t.data?JSON.stringify(t.data):t.data),t.url&&window&&(t.uri=t.url),window&&(t.cors=t.withCredentials),e(t,n)}},{xhr:8}],8:[function(t,n){function e(t,n){function e(){4===a.readyState&&o()}function o(){var t=null,e=a.statusCode=a.status,r=a.body=a.response||a.responseText||a.responseXML;if(0===e||e>=400&&600>e){var o=a.responseText||s[String(a.status).charAt(0)];t=new Error(o),t.statusCode=a.status}if(m)try{r=a.body=JSON.parse(r)}catch(i){}n(t,a,r)}function c(t){n(t,a)}"string"==typeof t&&(t={uri:t}),t=t||{},n=i(n);var a=t.xhr||null;!a&&t.cors?a=new f:a||(a=new u);var p=a.url=t.uri||t.url,l=a.method=t.method||"GET",h=t.body||t.data,d=a.headers=t.headers||{},y=!!t.sync,m=!1;return"json"in t&&(m=!0,d["Content-Type"]="application/json",h=JSON.stringify(t.json)),a.onreadystatechange=e,a.onload=o,a.onerror=c,a.onprogress=function(){},a.ontimeout=r,a.open(l,p,!y),t.cors&&(a.withCredentials=!0),y||(a.timeout="timeout"in t?t.timeout:5e3),a.setRequestHeader&&Object.keys(d).forEach(function(t){a.setRequestHeader(t,d[t])}),"responseType"in t&&(a.responseType=t.responseType),a.send(h),a}function r(){}var o=t("global/window"),i=t("once"),s={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},u=o.XMLHttpRequest||r,f="withCredentials"in new u?o.XMLHttpRequest:o.XDomainRequest;n.exports=e},{"global/window":9,once:10}],9:[function(t,n){(function(t){n.exports="undefined"!=typeof window?window:"undefined"!=typeof t?t:{}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,n){function e(t){var n=!1;return function(){return n?void 0:(n=!0,t.apply(this,arguments))}}n.exports=e,e.proto=e(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return e(this)},configurable:!0})})},{}],11:[function(t,n){"use strict";function e(t){function n(t){return null===c?void p.push(t):void i(function(){var n=c?t.onFulfilled:t.onRejected;if(null===n)return void(c?t.resolve:t.reject)(a);var e;try{e=n(a)}catch(r){return void t.reject(r)}t.resolve(e)})}function s(t){try{if(t===l)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void o(n.bind(t),s,u)}c=!0,a=t,f()}catch(e){u(e)}}function u(t){c=!1,a=t,f()}function f(){for(var t=0,e=p.length;e>t;t++)n(p[t]);p=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var c=null,a=null,p=[],l=this;this.then=function(t,o){return new e(function(e,i){n(new r(t,o,e,i))})},o(t,s,u)}function r(t,n,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.resolve=e,this.reject=r}function o(t,n,e){var r=!1;try{t(function(t){r||(r=!0,n(t))},function(t){r||(r=!0,e(t))})}catch(o){if(r)return;r=!0,e(o)}}var i=t("asap");n.exports=e},{asap:13}],12:[function(t,n){"use strict";function e(t){this.then=function(n){return"function"!=typeof n?this:new r(function(e,r){o(function(){try{e(n(t))}catch(o){r(o)}})})}}var r=t("./core.js"),o=t("asap");n.exports=r,e.prototype=Object.create(r.prototype);var i=new e(!0),s=new e(!1),u=new e(null),f=new e(void 0),c=new e(0),a=new e("");r.from=r.cast=function(t){if(t instanceof r)return t;if(null===t)return u;if(void 0===t)return f;if(t===!0)return i;if(t===!1)return s;if(0===t)return c;if(""===t)return a;if("object"==typeof t||"function"==typeof t)try{var n=t.then;if("function"==typeof n)return new r(n.bind(t))}catch(o){return new r(function(t,n){n(o)})}return new e(t)},r.denodeify=function(t,n){return n=n||1/0,function(){var e=this,o=Array.prototype.slice.call(arguments);return new r(function(r,i){for(;o.length&&o.length>n;)o.pop();o.push(function(t,n){t?i(t):r(n)}),t.apply(e,o)})}},r.nodeify=function(t){return function(){var n=Array.prototype.slice.call(arguments),e="function"==typeof n[n.length-1]?n.pop():null;try{return t.apply(this,arguments).nodeify(e)}catch(i){if(null===e||"undefined"==typeof e)return new r(function(t,n){n(i)});o(function(){e(i)})}}},r.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&Array.isArray(arguments[0])?arguments[0]:arguments);return new r(function(n,e){function r(i,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,function(t){r(i,t)},e)}t[i]=s,0===--o&&n(t)}catch(f){e(f)}}if(0===t.length)return n([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},r.prototype.done=function(){var t=arguments.length?this.then.apply(this,arguments):this;t.then(null,function(t){o(function(){throw t})})},r.prototype.nodeify=function(t){return null===t||"undefined"==typeof t?this:void this.then(function(n){o(function(){t(null,n)})},function(n){o(function(){t(n)})})},r.prototype.catch=function(t){return this.then(null,t)},r.resolve=function(t){return new r(function(n){n(t)})},r.reject=function(t){return new r(function(n,e){e(t)})},r.race=function(t){return new r(function(n,e){t.map(function(t){r.cast(t).then(n,e)})})}},{"./core.js":11,asap:13}],13:[function(t,n){(function(t){function e(){for(;o.next;){o=o.next;var t=o.task;o.task=void 0;var n=o.domain;n&&(o.domain=void 0,n.enter());try{t()}catch(r){if(f)throw n&&n.exit(),setTimeout(e,0),n&&n.enter(),r;setTimeout(function(){throw r},0)}n&&n.exit()}s=!1}function r(n){i=i.next={task:n,domain:f&&t.domain,next:null},s||(s=!0,u())}var o={task:void 0,next:null},i=o,s=!1,u=void 0,f=!1;if("undefined"!=typeof t&&t.nextTick)f=!0,u=function(){t.nextTick(e)};else if("function"==typeof setImmediate)u="undefined"!=typeof window?setImmediate.bind(window,e):function(){setImmediate(e)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=e,u=function(){c.port2.postMessage(0)}}else u=function(){setTimeout(e,0)};n.exports=r}).call(this,t("/Users/scott/www/modules/rapper/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/Users/scott/www/modules/rapper/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":3}],14:[function(t,n){var e=t("flatten"),r=t("drainer"),o=t("lodash.isarguments"),i=function(t){this._items=[],this._methods={},this._context=t};i.prototype.method=function(t,n){this._methods[t]=n},i.prototype.push=function(){var t=this._context,n=[].slice.call(arguments,0);e(n.map(function(t){return o(t)?[].slice.call(t,0):t})).forEach(function(n){"string"==typeof n&&(n=this._methods[n]);var e=t?n.bind(t):n;this._items.push(e)},this)},i.prototype.drain=function(){var t=r(this._items),n=[].slice.call(arguments,0),e=n.pop();n.push(function(t){e?e(t):function(){}}),t.apply(t,n)},n.exports=i},{drainer:15,flatten:18,"lodash.isarguments":19}],15:[function(t,n){var e=t("as-array"),r=function(t){return function(){var n=e(arguments),r=n.pop();o(t,[],r,n)}},o=function(t,n,e,r){var i=t.shift();return n=n?r.concat(n):r,i?(n.push(function(){var n=[].slice.call(arguments),i=n.shift();return i?e(i):void o(t,n,e,r)}),void i.apply(i,n)):e.apply(e,[null].concat(n))};n.exports=r},{"as-array":16}],16:[function(t,n){var e=t("is-args");n.exports=function(t){return t||(t=[]),e(t)&&(t=[].splice.call(t,0)),Array.isArray(t)?t:[t]}},{"is-args":17}],17:[function(t,n){n.exports=function(t){return!!t&&"number"==typeof t.length&&"function"==typeof t.callee}},{}],18:[function(t,n){n.exports=function(t,n){function e(t,r){return t.reduce(function(t,o){return t.concat(Array.isArray(o)&&n>r?e(o,r+1):o)},[])}return n="number"==typeof n?n:1/0,e(t,1)}},{}],19:[function(t,n){function e(t){return t&&"object"==typeof t&&"number"==typeof t.length&&i.call(t)==r||!1}var r="[object Arguments]",o=Object.prototype,i=o.toString;n.exports=e},{}],20:[function(t,n,e){function r(t,n){if(0==t[n].length)return t[n]={};var e={};for(var r in t[n])m.call(t[n],r)&&(e[r]=t[n][r]);return t[n]=e,e}function o(t,n,e,i){var s=t.shift();if(!Object.getOwnPropertyDescriptor(Object.prototype,e))if(s){var u=n[e]=n[e]||[];"]"==s?w(u)?""!=i&&u.push(i):"object"==typeof u?u[b(u).length]=i:u=n[e]=[n[e],i]:~v(s,"]")?(s=s.substr(0,s.length-1),!j.test(s)&&w(u)&&(u=r(n,e)),o(t,u,s,i)):(!j.test(s)&&w(u)&&(u=r(n,e)),o(t,u,s,i))}else w(n[e])?n[e].push(i):n[e]="object"==typeof n[e]?i:"undefined"==typeof n[e]?i:[n[e],i]}function i(t,n,e){if(~v(n,"]")){{var r=n.split("[");r.length}o(r,t,"base",e)}else{if(!j.test(n)&&w(t.base)){var i={};for(var s in t.base)i[s]=t.base[s];t.base=i}l(t.base,n,e)}return t}function s(t){if("object"!=typeof t)return t;if(w(t)){var n=[];for(var e in t)m.call(t,e)&&n.push(t[e]);return n}for(var r in t)t[r]=s(t[r]);return t}function u(t){var n={base:{}};return g(b(t),function(e){i(n,e,t[e])}),s(n.base)}function f(t){var n=x(String(t).split("&"),function(t,n){var e=v(n,"="),r=h(n),o=n.substr(0,r||e),s=n.substr(r||e,n.length),s=s.substr(v(s,"=")+1,s.length);return""==o&&(o=n,s=""),""==o?t:i(t,d(o),d(s))},{base:{}}).base;return s(n)}function c(t,n){if(!n)throw new TypeError("stringify expects an object");return n+"="+encodeURIComponent(t)}function a(t,n){var e=[];if(!n)throw new TypeError("stringify expects an object");for(var r=0;r<t.length;r++)e.push(O(t[r],n+"["+r+"]"));return e.join("&")}function p(t,n){for(var e,r=[],o=b(t),i=0,s=o.length;s>i;++i)e=o[i],""!=e&&r.push(null==t[e]?encodeURIComponent(e)+"=":O(t[e],n?n+"["+encodeURIComponent(e)+"]":encodeURIComponent(e)));return r.join("&")}function l(t,n,e){var r=t[n];Object.getOwnPropertyDescriptor(Object.prototype,n)||(void 0===r?t[n]=e:w(r)?r.push(e):t[n]=[r,e])}function h(t){for(var n,e,r=t.length,o=0;r>o;++o)if(e=t[o],"]"==e&&(n=!1),"["==e&&(n=!0),"="==e&&!n)return o}function d(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(n){return t}}var y=Object.prototype.toString,m=Object.prototype.hasOwnProperty,v="function"==typeof Array.prototype.indexOf?function(t,n){return t.indexOf(n)}:function(t,n){for(var e=0;e<t.length;e++)if(t[e]===n)return e;return-1},w=Array.isArray||function(t){return"[object Array]"==y.call(t)},b=Object.keys||function(t){var n=[];for(var e in t)t.hasOwnProperty(e)&&n.push(e);return n},g="function"==typeof Array.prototype.forEach?function(t,n){return t.forEach(n)}:function(t,n){for(var e=0;e<t.length;e++)n(t[e])},x=function(t,n,e){if("function"==typeof t.reduce)return t.reduce(n,e);for(var r=e,o=0;o<t.length;o++)r=n(r,t[o]);return r},j=/^[0-9]+$/;e.parse=function(t){return null==t||""==t?{}:"object"==typeof t?u(t):f(t)};var O=e.stringify=function(t,n){return w(t)?a(t,n):"[object Object]"==y.call(t)?p(t,n):"string"==typeof t?c(t,n):n+"="+encodeURIComponent(String(t))}},{}],21:[function(t,n){function e(t){return s(i("/",t))}function r(t,n){var r={},o=Object.keys(t),i=o.length,s=0;for(s;i>s;s+=1){var u=o[s],f=n.key===!1?u:e(u),c=t[u];r[f]=n.value===!1?c:e(c)}return r}var o=t("path"),i=o.join,s=o.normalize,u=n.exports=function(t){return options=arguments[1]||{},"string"==typeof t?e(t):"number"==typeof t?e(t+""):"object"==typeof t?r(t,options):t};n.exports=u},{path:4}]},{},[1])(1)});